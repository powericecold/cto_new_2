<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar Debug - GetDone</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div style="padding: 20px; font-family: monospace;">
        <h1>Calendar Debug Info</h1>
        <div id="debug-output"></div>
        <hr>
        <h2>Calendar View Test:</h2>
        <div class="content-area" id="calendar-area"></div>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
    <script>
        const debugOutput = document.getElementById('debug-output');
        
        function log(message) {
            debugOutput.innerHTML += `<div style="margin: 5px 0;">${message}</div>`;
            console.log(message);
        }
        
        // Check if functions exist
        log('✅ Script loaded');
        log(`renderCalendarView exists: ${typeof renderCalendarView === 'function'}`);
        log(`currentCalendarDate exists: ${typeof currentCalendarDate !== 'undefined'}`);
        log(`currentCalendarDate value: ${currentCalendarDate}`);
        log(`DataStore exists: ${typeof DataStore !== 'undefined'}`);
        
        if (typeof DataStore !== 'undefined') {
            DataStore.initialize();
            const tasks = DataStore.getAllTasks();
            log(`Total tasks: ${tasks.length}`);
            const tasksWithDates = tasks.filter(t => t.dueDate);
            log(`Tasks with due dates: ${tasksWithDates.length}`);
        }
        
        // Try to render calendar
        log('<hr>');
        log('Attempting to render calendar...');
        try {
            if (typeof renderCalendarView === 'function') {
                renderCalendarView();
                log('✅ renderCalendarView() called successfully');
            } else {
                log('❌ renderCalendarView is not a function');
            }
        } catch (e) {
            log(`❌ Error rendering calendar: ${e.message}`);
            log(`Stack: ${e.stack}`);
        }
    </script>
</body>
</html>
